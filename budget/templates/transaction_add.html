{%extends 'base.html'%}

{%block main_block%}
<div class="container"> 

    <div class="row mt-5">
        <div class="col-2"></div>
        <div class="col-8">
        <form action=""method="post" class="border border-dark border-2 p-4 rounded rounded-4 shadow">
            <h1 align="center" class=""><b>Add Transaction</b></h1>
            {%csrf_token%}
            
            <div class="row">
                <div class="col-6">
                    <label for="">Enter Title</label>
                    {{form.title}}
                </div>
                <div class="col-6">
                    <label for="">Enter Amount</label>
                    {{form.amount}}
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <label for="">Select Category</label>
                    <select name="category_obj" id="" class="form-select form-control">
                    {%for c in categories%}
                    <option value="{{c.id}}">{{c.name}}</option>
                    {%endfor%}
                    </select>
                </div>
                <div class="col-6">
                    <label for="">Enter Payment Method</label>
                    {{form.payment_method}}
                </div>
            </div>
            
            <button type="submit" class="btn btn-outline-success ">Add</button>
        </form>
    </div>
    <div class="col-2"></div>
</div>
<div class="row mt-5">
    <div class="col-2"></div>
    <div class="col-8">
        <table class="table table-dark">
            <tr>
                <th>Title</th>
                <th>Amount</th>
                <th>Payment Method</th>
                <th>Created Date</th>
                <th>Action</th>
            </tr>
            {%for t in transactions%}
            <tr>
                <td>{{t.title}}</td>
                <td>{{t.amount}}</td>
                <td>{{t.payment_method}}</td>
                <td>{{t.created_date}}</td>
                <td class="d-flex gap-3">
                    <a href="{%url 'transaction-edit' t.id%}" class="btn btn-outline-warning"><i class="fa-regular fa-pen-to-square"></i></a>
                   <a href="{%url 'transaction-delete' t.id%}" class="btn btn-outline-danger"> <i class="fa-solid fa-trash"></i></a>
                </td>
            </tr>
            {%endfor%}
        </table>
    </div>
    <div class="col-2"></div>
</div>
</div>
            
{%endblock%}